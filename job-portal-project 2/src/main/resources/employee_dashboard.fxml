<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.jobportal.EmployeeDashboardController"
            style="-fx-background-color: #f5f6fa; -fx-padding: 16;">

    <top>
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Employee Dashboard"
                   style="-fx-font-size: 20; -fx-font-weight: bold;"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Label fx:id="welcomeLabel" text="Welcome, Employee"/>
            <Button text="Logout" onAction="#handleLogout"
                    style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-background-radius: 4;"/>
        </HBox>
    </top>

    <center>
        <TabPane fx:id="tabPane">
            <tabs>
                <Tab text="Jobs">
                    <BorderPane>
                        <top>
                            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 0 0 10 0;">
                                <Label text="Search:"/>
                                <TextField fx:id="searchField" HBox.hgrow="ALWAYS"
                                           promptText="Search by title, company, location..."/>
                                <Button text="Search" onAction="#handleSearch"
                                        style="-fx-background-color: #2980b9; -fx-text-fill: white; -fx-background-radius: 4;"/>
                            </HBox>
                        </top>
                        <center>
                            <SplitPane dividerPositions="0.5">
                                <VBox spacing="8">
                                    <TableView fx:id="jobsTable" VBox.vgrow="ALWAYS">
                                        <columns>
                                            <TableColumn fx:id="titleColumn" text="Title" prefWidth="150"/>
                                            <TableColumn fx:id="companyColumn" text="Company" prefWidth="120"/>
                                            <TableColumn fx:id="locationColumn" text="Location" prefWidth="90"/>
                                            <TableColumn fx:id="typeColumn" text="Type" prefWidth="80"/>
                                        </columns>
                                    </TableView>
                                    <Button text="Apply" onAction="#handleApply"
                                            style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 4;"/>
                                </VBox>

                                <TextArea fx:id="jobDetailsArea"
                                          prefRowCount="10"
                                          wrapText="true"
                                          editable="false"
                                          promptText="Select a job to see details..."/>
                            </SplitPane>
                        </center>
                    </BorderPane>
                </Tab>

                <Tab text="My Profile">
                    <ScrollPane fitToWidth="true">
                        <VBox spacing="10" style="-fx-padding: 10;">
                            <Label text="Profile" style="-fx-font-size: 16; -fx-font-weight: bold;"/>

                            <GridPane hgap="10" vgap="8">
                                <columnConstraints>
                                    <ColumnConstraints prefWidth="90"/>
                                    <ColumnConstraints prefWidth="250" hgrow="ALWAYS"/>
                                </columnConstraints>

                                <Label text="Name:" GridPane.rowIndex="0"/>
                                <TextField fx:id="nameField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                <Label text="Email:" GridPane.rowIndex="1"/>
                                <TextField fx:id="emailField" GridPane.rowIndex="1" GridPane.columnIndex="1" editable="false"/>

                                <Label text="Birthdate:" GridPane.rowIndex="2"/>
                                <DatePicker fx:id="birthdatePicker" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                <Label text="Description:" GridPane.rowIndex="3"/>
                                <TextArea fx:id="descriptionField"
                                          GridPane.rowIndex="3"
                                          GridPane.columnIndex="1"
                                          prefRowCount="3"
                                          wrapText="true"/>

                                <Label text="Experience:" GridPane.rowIndex="4"/>
                                <TextArea fx:id="experienceField"
                                          GridPane.rowIndex="4"
                                          GridPane.columnIndex="1"
                                          prefRowCount="3"
                                          wrapText="true"/>

                                <Label text="Education:" GridPane.rowIndex="5"/>
                                <TextArea fx:id="educationField"
                                          GridPane.rowIndex="5"
                                          GridPane.columnIndex="1"
                                          prefRowCount="3"
                                          wrapText="true"/>

                                <Label text="Skills:" GridPane.rowIndex="6"/>
                                <TextArea fx:id="skillsField"
                                          GridPane.rowIndex="6"
                                          GridPane.columnIndex="1"
                                          prefRowCount="3"
                                          wrapText="true"/>
                            </GridPane>

                            <HBox spacing="10">
                                <Button text="Save Profile" onAction="#handleSaveProfile"
                                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 4;"/>
                                <Button text="Reset" onAction="#handleResetProfile"
                                        style="-fx-background-color: #7f8c8d; -fx-text-fill: white; -fx-background-radius: 4;"/>
                            </HBox>
                        </VBox>
                    </ScrollPane>
                </Tab>
            </tabs>
        </TabPane>
    </center>
</BorderPane>
